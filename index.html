<html>
<head>
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />

<title>STAR WARS ASCIIMATION - Main Page</title>

<meta name="description" content="STAR WARS In a way you've never seen before">
<meta name="keywords" content="star wars text ascii asciimation animation parody">
<meta name="author" content="Abhrankan Chakrabarti">
<style type="text/css">
#screen
{
  text-align:left;
  font-size: 15px;
  font-family: Courier New,Fixed;
  line-height: 16px;
  color: white;
  width: 41em;
  height: 212px;
  /*border: 1px solid blue;*/
  display: block;
  white-space: pre;  
}


 #buttons a:link  { color: green }
 #buttons a:visited  { color: green } 
 #buttons a:hover {color: red } 
 #buttons a:active  { color: red }
 #buttons a{text-decoration:none}  

</style>
<script src="/asciimation/film.js"></script>
<script type="text/javascript">
<!--

var LINES_PER_FRAME = 14;
var DELAY_NORMAL = 67;
var DELAY_FAST = 17;
var DELAY_VERYFAST = 1;

var g_currentFrame = 0;
var g_updateDelay = DELAY_NORMAL;
var g_frameStep = 1; //advance one frame per tick
var g_timerHandle = null;

if(film)
{
	window.onload = function() { Play(); };
}
else
{
	film = new Array(); //empty film to prevent js errors
}

function validateFrame(frameNumber)
{
	return ( frameNumber > 0 && frameNumber < Math.floor( film.length / LINES_PER_FRAME ) )
}

function displayFrame(frameNumber)
{
	if( validateFrame(frameNumber) != true )
		return;

	var screen = document.getElementById('screen');

	while(screen.firstChild)
    	screen.removeChild( screen.firstChild );

	//var buffer = document.createElement('span');
    for (var line = 1; line < 14; line++)
    {
    	var lineText = film[ (g_currentFrame * LINES_PER_FRAME) + line];
    	if( !lineText || lineText.length < 1 )
    		lineText = ' ';

    	var div = document.createElement('div');
    	div.style.whiteSpace = 'pre';
    	div.appendChild( document.createTextNode( lineText ) );

    	screen.appendChild( div );
    }
}

function updateDisplay()
{
	if(g_timerHandle)
		clearTimeout(g_timerHandle);

    displayFrame(g_currentFrame);

    if( g_frameStep != 0 )
    {
    	//read the first line of the current frame as it is a number containing how many times this frame should be displayed
    	var nextFrameDelay = film[ g_currentFrame * LINES_PER_FRAME ] * g_updateDelay;

    	var nextFrame = g_currentFrame + g_frameStep;

    	if(validateFrame(nextFrame) == true)
			g_currentFrame = nextFrame;

        g_timerHandle = setTimeout( updateDisplay, nextFrameDelay );
    }
}

function Start()
{
    g_currentFrame = 0;
    Play();
}

function VeryFastRewind()
{
    g_frameStep = -1;
	g_updateDelay = DELAY_VERYFAST;
    updateDisplay();
}

function Rewind()
{
    g_frameStep = -1;
	g_updateDelay = DELAY_FAST;
    updateDisplay();
}

function FrameBack()
{
	g_frameStep = 0;

    var nextFrame = g_currentFrame - 1;
	if(validateFrame(nextFrame) == true)
		g_currentFrame = nextFrame;

	updateDisplay();
}

function Stop()
{
    g_frameStep = 0;
    updateDisplay();
}

function FrameAdvance()
{
	g_frameStep = 0;

    var nextFrame = g_currentFrame + 1;
	if(validateFrame(nextFrame) == true)
		g_currentFrame = nextFrame;

	updateDisplay();
}

function Play()
{
    g_frameStep = 1;
    g_updateDelay = DELAY_NORMAL;
	updateDisplay();
}

function FastForward()
{
    g_frameStep = 1;
	g_updateDelay = DELAY_FAST;
    updateDisplay();
}

function VeryFastForward()
{
    g_frameStep = 1;
	g_updateDelay = DELAY_VERYFAST;
    updateDisplay();
}

function End()
{
	g_frameStep = 0;
    g_currentFrame = Math.floor( film.length / LINES_PER_FRAME ) - 1;
    updateDisplay();
}
//-->
</script>

</head>

<body alink="#6600cc" bgcolor="#000000" link="#4444ff" text="#ffcc00" vlink="#336666">

	<center>
	<img src="/asciimation/starwars.jpg" alt="Star Wars Asciimation">

<br>
	<br>
	<br>	  


	<pre id="screen">

    Asciimation may take some time to load...

	</pre>

	
	<div id="buttons"> 
	<font face="Arial" size="3">
		<a href="#" onclick="Start()" title="Start"> |&lt;</a>&nbsp;&nbsp;
		<a href="#" onclick="VeryFastRewind()" title="Very fast rewind"> &lt;&lt;&lt;</a>&nbsp;&nbsp;
		<a href="#" onclick="Rewind()" title="Rewind"> &lt;&lt;</a>&nbsp;&nbsp;
		<a href="#" onclick="FrameBack()" title="Back one frame"> 1&lt;</a>&nbsp;&nbsp;
		<a href="#" onclick="Stop()" title="Stop"> #</a>&nbsp;&nbsp;
		<a href="#" onclick="FrameAdvance()" title="Advance one frame"> &gt;1</a>&nbsp;&nbsp;
		<a href="#" onclick="Play()" title="Play"> &gt;</a>&nbsp;&nbsp;
		<a href="#" onclick="FastForward()" title="Fast forward"> &gt;&gt;</a>&nbsp;&nbsp;
		<a href="#" onclick="VeryFastForward()" title="Very fast forward"> &gt;&gt;&gt;</a>&nbsp;&nbsp;
		<a href="#" onclick="End()" title="End"> &gt;|</a>&nbsp;&nbsp;&nbsp;
	</font>
	</div> 



    <br>
	<font size=+0 face="Arial">Last scene added:</font><br/>
	<font size=+0 face="Arial">January 2015</font><br/>

	<br>
	
	<br/>
	<font size=-2 color="white" face="Arial">Copyright &copy; 1997 - 2023 Simon Jansen</font>
    <br>
    <font size=-2 color="white" face="Arial">jansens@asciimation.co.nz</font>
    
</body>
</html>
